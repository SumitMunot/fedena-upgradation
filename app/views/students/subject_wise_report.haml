- # Fedena
- #Copyright 2010 Foradian Technologies Private Limited
- #
- #This product includes software developed at
- #Project Fedena - http://www.projectfedena.org/
- #
- #Licensed under the Apache License, Version 2.0 (the "License");
- #you may not use this file except in compliance with the License.
- #You may obtain a copy of the License at
- #
- #  http://www.apache.org/licenses/LICENSE-2.0
- #
- #Unless required by applicable law or agreed to in writing,
- #software distributed under the License is distributed on an
- #"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- #KIND, either express or implied.  See the License for the
- #specific language governing permissions and limitations
- #under the License.
#content-header
  = image_tag("admission/admission_page_logo.jpg")
  %h1= t('student_info')
  %h3= t('subject_wise_result')
  #app-back-button
    = back_button
#page-yield
  %script{:src => "/javascripts/swfobject.js", :type => "text/javascript"}
  = @graph
  .subject-results-th
    .subject-results-exam= t('exam')
    .subject-results-marks= t('marks')
    .subject-results-maxmarks= t('max')
    .subject-results-grade= t('grade')
    .subject-results-percentage
      (#{t('in')} %)
  - @examtypes.uniq.each do |e_type|
    - exam = Examination.find_by_examination_type_id_and_subject_id(e_type.id, @subject)
    - examres = ExaminationResult.find_by_student_id_and_examination_id(@student.id, exam.id) unless exam.nil?
    - unless examres.nil?
      - if examres.grading.nil?
        - grade = "NA"
      - else
        - grade = examres.grading.name
      .subject-results-tr
        .subject-results-exam= exam.name
        .subject-results-marks= examres.marks
        .subject-results-maxmarks= examres.examination.max_marks
        .subject-results-grade= grade
        .subject-results-precentage= examres.percentage_marks
  .subject-results-tf
    .subject-results-exam= t('weighted_scores')
    .subject-results-marks  
    .subject-results-maxmarks  
    .subject-results-grade  
    - results_percentage = @student.annual_weighted_marks_for_a_subject(@subject)
    .subject-results-percentage= results_percentage unless results_percentage.nil?
