- # Fedena
- #Copyright 2010 Foradian Technologies Private Limited
- #
- #This product includes software developed at
- #Project Fedena - http://www.projectfedena.org/
- #
- #Licensed under the Apache License, Version 2.0 (the "License");
- #you may not use this file except in compliance with the License.
- #You may obtain a copy of the License at
- #
- #  http://www.apache.org/licenses/LICENSE-2.0
- #
- #Unless required by applicable law or agreed to in writing,
- #software distributed under the License is distributed on an
- #"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- #KIND, either express or implied.  See the License for the
- #specific language governing permissions and limitations
- #under the License.
.heading.themed_text= t('all_leave_records')
.container-head
  #startdate-label= t('start_date')
  #enddate-label= t('end_date')
  #status-label= t('status')
  .extender
- unless @pending_applied_leaves == []
  - @pending_applied_leaves.each do |l|
    %div{:class => "container#{cycle('odd','even')}"}
      .pending-start-date= link_to "#{l.start_date.strftime("%d-%m-%Y")}",:controller=>"employee_attendance", :action=>"leave_app", :id=>l.id, :id2=>@employee
      .pending-end-date= link_to "#{l.end_date.strftime("%d-%m-%Y")}",  :controller=>"employee_attendance", :action=>"leave_app", :id=>l.id, :id2=>@employee
      .pending-status= link_to "#{t('pending')}",  :controller=>"employee_attendance", :action=>"leave_app", :id=>l.id, :id2=>@employee
      .extender
- else
- unless @applied_leaves == []
  - @applied_leaves.each do |l|
    - if l.approved == true
      %div{:class => "container#{cycle('odd','even')}"}
        .start-date= link_to "#{l.start_date.strftime("%d-%m-%Y")}", :controller=>"employee_attendance", :action=>"leave_application", :id=>l.id
        .end-date= link_to "#{l.end_date.strftime("%d-%m-%Y")}",  :controller=>"employee_attendance", :action=>"leave_application", :id=>l.id
        .status= link_to "#{t('approved')}",  :controller=>"employee_attendance", :action=>"leave_application", :id=>l.id
        .extender
    - else
      %div{:class => "container#{cycle('odd','even')}"}
        .start-date= link_to "#{l.start_date.strftime("%d-%m-%Y")}", :controller=>"employee_attendance", :action=>"leave_application", :id=>l.id
        .end-date= link_to "#{l.end_date.strftime("%d-%m-%Y")}",  :controller=>"employee_attendance", :action=>"leave_application", :id=>l.id
        .status= link_to "#{t('denied')}",  :controller=>"employee_attendance", :action=>"leave_application", :id=>l.id
        .extender
- else
