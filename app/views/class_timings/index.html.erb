<%-# Fedena
#Copyright 2010 Foradian Technologies Private Limited
#
#This product includes software developed at
#Project Fedena - http://www.projectfedena.org/
#
#Licensed under the Apache License, Version 2.0 (the "License");
#you may not use this file except in compliance with the License.
#You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License. -%>

<div id="content-header">
  <%= image_tag("show_timetable.png") %>
  <h1><%= t('timetable_text') %></h1>
  <h3><%= t('set_class_timings') %></h3>
  <div id="app-back-button">
    <%= link_to image_tag("buttons/back.png", border: 0), 'javascript: void(0);', onclick: "history.back()" %>
  </div>
</div>

<div id="page-yield">

  <div id="flash_box"></div>
  <% unless flash[:notice].nil? %>
    <p class="flash-msg"> <%= flash[:notice] %> </p>
  <% end %>

  <div class="label-field-pair">
    <label ><%= t('select_a_batch') %>:</label>
    <div class="text-input-bg">
      <%= select :batch, :id,
        @batches.map {|b| [b.full_name, b.id] },
        {:prompt => "#{t('common')}"},
        {:onchange => "#{remote_function(
        :url => { :action => 'show' },
        :with => "'batch_id='+value",
        :before => "Element.show('loader')",
        :success => "Element.hide('loader')"
        )}"} %>
      <%= image_tag("loader.gif", :align => "absmiddle", :border => 0, :id => "loader", :style =>"display: none;" ) %>
    </div></div>

  <div id="class-timings-list"><%= render :partial => "show_batch_timing" %></div>
  <div id="modal-box" style="display:none;"></div>

  <div class="extender"></div>
</div>












<%#*<div id="form-content">%>

<%# form_for :class_timing do |f| %>

<%#*<div class="label-field-pair">%>
<%#*<label for="period_timing_name">Name</label>%>
<%#*<div class="text-input-bg"><%= f.text_field :name </div>%>
<%#*</div>%>

<%#*<div class="label-checkbox-pair">%>
<%#= f.check_box :break, :checked => false % Check if this is a break
<%#*</div>%>

<%#*<div class="label-field-pair">%>
<%#*<label for="period_timing_start_time">Start time</label>%>
<%#= time_select :class_timing, :start_time, {:minute_step => 5} %>
<%#*</div>%>

<%#*<div class="label-field-pair">%>
<%#*<label for="period_timing_end_time">End time</label>%>
<%#= time_select :class_timing, :end_time, {:minute_step => 5} %>
<%#*</div>%>

<%#*<div class="submit-button">%>
<%#= submit_tag "", :value => "â–º Create" %>
<%#*</div>%>

<%# end %>

<%#*<div class="extender"></div>%>

<%#*</div>%>

<%#*<div id="class-timing-list">%>
<%#*<div class="class-timing-th">%>
<%#*<div class="class-timing-td1"><b>Name</b></div>%>
<%#*<div class="class-timing-td2"><b>Start Time</b></div>%>
<%#*<div class="class-timing-td3"><b>End Time</b></div>%>
<%#*<div class="class-timing-td4"> </div>%>
<%#*</div>%>

<%# @information.each do |x| %>

<%#*<div class="class-timing-tr<%=cycle('odd', 'even')%">%>
<%#*<div class="class-timing-td1"> <%= x.name  </div>%>
<%#*<div class="class-timing-td2"> <%= x.start_time.strftime("%I:%M %p") unless x.start_time.nil?  &nbsp; </div>%>
<%#*<div class="class-timing-td3"> <%= x.end_time.strftime("%I:%M %p") unless x.end_time.nil? % &nbsp; </div>%>
<%#*<div class="class-timing-td4">%>
<%#= link_to "Edit", :controller => "class_timing", :action=>"edit", :id => x.id %> &nbsp;
<%#= link_to "Delete", :controller => "class_timing", :action => "delete", :id => x.id %> &nbsp;
<%#*</div>%>
<%#*</div>%>

<%# end %>

<%#*</div>%>

